_base_prop:
    physics: {blocks: False}
_stairs:
    _parent: _base_prop
    typed: { type: stairs }
    usable:
        action_data: {type: change_level}
stairs_down:
    _parent: _stairs
    visible:
        glyph: '>'
    usable:
        use_key: 'down'
        action_data: { data: {dir: down} }
stairs_up:
    _parent: _stairs
    visible:
        glyph: '<'
    usable:
        use_key: 'up'
        action_data: { data: {dir: up} }
# All doors are spawned closed
door:
    _parent: _base_prop
    typed: { type: door }
    openable: {open: False}
    visible:
        glyph: '+'
    physics: {blocks: True, blocks_sight: True}
    usable: { action_data: { type: open_door } }
    trigger:
        activation_mode:  actor_bump
        action_data: {type: open_door}
trap:
    _parent: _base_prop
    typed: { type: trap }
    visible:
        glyph: '^'
    trigger:
        activation_mode:  actor_on_tile
        action_data:
            type: inflict_dmg
            targetting:
                mode: actor
            data: {dmg: 3d2+2}  # 5-8
    consumable: {}
